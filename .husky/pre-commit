#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "\033[0;34mğŸ”pnpm-lock.yaml ìµœì‹  ìƒíƒœ ì²´í¬ ì¤‘...\033[0m\n"
pnpm install --frozen-lockfile
if [ $? -ne 0 ]; then
  echo "\n\033[0;31mâŒpnpm-lock.yaml íŒŒì¼ì´ ìµœì‹  ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.\033[0m \033[0;34m'pnpm install'\033[0m\033[0;31mì„ ì‹¤í–‰í•˜ì—¬ ìµœì‹  ìƒíƒœë¡œ ì—…ë°ì´íŠ¸í•´ ì£¼ì„¸ìš”.\033[0m\n"
  exit 1
fi
echo "\n\033[0;32mâœ…pnpm-lock.yaml ìµœì‹  ìƒíƒœ ì²´í¬ ì™„ë£Œ\033[0m\n"

echo "\033[0;34mğŸ”Lint ì²´í¬ ì‹¤í–‰ ì¤‘...\033[0m"
pnpm lint
if [ $? -ne 0 ]; then
  echo "\n\033[0;31mâŒLint ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. Lint ì—ëŸ¬ë¥¼ í•´ê²°í•´ì£¼ì„¸ìš”.\033[0m\n"
  exit 1
fi
echo "\n\033[0;32mâœ…Lint ì²´í¬ ì™„ë£Œ\033[0m\n"